### گام دوم (تحلیل اصول شی‌گرایی)

حسین شریعتی

| اصل  | کلاس                       | علت برقراری / نقض |
|------|-----------------------------|--------------------|
| SRP  | `ReservationService`        | ❌ **نقض:** این کلاس مسئولیت‌های متعددی دارد شامل پردازش رزرو، اعمال تخفیف شهر، مدیریت پرداخت، چاپ فاکتور و ارسال اعلان. این تمرکز چندگانه باعث نقض اصل مسئولیت یگانه می‌شود. |
| OCP  | `ReservationService`        | ❌ **نقض:** برای افزودن روش پرداخت جدید یا نوع اعلان جدید، نیاز به تغییر مستقیم در کلاس `ReservationService` وجود دارد. این یعنی کلاس نسبت به توسعه باز نیست و برای تغییرات بسته است. |
| LSP  | `LuxuryRoom` ← `Room`       | ✅ **برقراری:** کلاس `LuxuryRoom` به‌درستی از `Room` ارث‌بری می‌کند و می‌تواند در هر جایی که `Room` استفاده می‌شود جایگزین شود بدون تغییر رفتار برنامه. |
| ISP  | `MessageSender`             | ✅ **برقراری:** اینترفیس `MessageSender` تنها یک متد دارد (`sendEmail`) که برای کلاس‌های پیاده‌کننده ضروری است. اینترفیس کوچک و متمرکز است. |

---

علیرضا جعفرپور

در این بخش، سه اصل پایانی از اصول شی‌گرایی در طراحی اولیه‌ی سیستم رزرو هتل بررسی شده است.

| اصل  | کلاس                       | علت برقراری / نقض |
|------|-----------------------------|--------------------|
| DIP  | `ReservationService`        | ❌ **نقض:** کلاس `ReservationService` مستقیماً به کلاس مشخص `EmailSender` وابسته است و آن را با `new` ایجاد می‌کند. این وابستگی مستقیم به implementation به جای abstraction باعث نقض اصل وارونگی وابستگی شده است. |
| PLK  | `ReservationService`, `Customer`, `Room` | ❌ **نقض:** کلاس `ReservationService` مستقیماً به فیلدهای public اشیاء `Customer` و `Room` دسترسی دارد (مثل `res.customer.name`، `res.customer.city`، `res.room.price`). این دسترسی مستقیم به جزئیات داخلی اشیاء دیگر برخلاف اصل Law of Demeter است. |
| CRP  | `PaymentProcessor`          | ❌ **نقض:** برای افزودن روش پرداخت جدید، باید متد جدیدی با ساختار مشابه متدهای موجود اضافه شود. این نیاز به تغییر در کلاس `PaymentProcessor` دارد و باعث می‌شود کلاس‌هایی که از این کلاس استفاده می‌کنند نیز نیاز به تغییر داشته باشند، برخلاف اصل Common Reuse Principle. |

