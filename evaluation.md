## گام چهارم – ارزیابی (حسین شریعتی)

### تحلیل تأثیر رعایت اصول طراحی بر قابلیت توسعه و نگهداری سیستم

در گام‌های دوم و سوم مشخص شد که مشکلات اصلی طراحی نسخه اولیه از عدم رعایت اصول بنیادین شی‌گرایی مانند **SRP، OCP، LSP، ISP، DIP، PLK و CRP** ناشی می‌شد. این وضعیت باعث شده بود که بخش‌های مختلف سیستم به‌شدت به یکدیگر وابسته باشند و هر تغییر یا افزودن ویژگی جدید نیازمند ویرایش چندین فایل و کلاس شود.

در نسخه اولیه، کلاس‌های اصلی مانند `ReservationService`، `Reservation`، `Customer` و `Room` هم‌زمان چندین نقش را بر عهده داشتند. بخشی از آن‌ها مسئول مدیریت منطق رزرو، بخشی دیگر مسئول ارتباطات و حتی بخشی مسئول پردازش پرداخت و ارسال اعلان بودند. این در حالی است که اصول شی‌گرایی می‌گوید هر کلاس باید دقیقاً **یک مسئولیت واحد** داشته باشد تا تغییر در یک بخش از سیستم بر سایر بخش‌ها تأثیر منفی نگذارد.

زمانی که در گام اول دو قابلیت جدید — یعنی **افزودن روش پرداخت حضوری (`onSitePayment`)** و **افزودن روش ارسال پیامک (`sendSmsMessage`)** — اضافه شدند، توسعه‌دهندگان مجبور شدند چندین کلاس را تغییر دهند. این مسئله نه‌تنها منجر به تکرار کد شد، بلکه باعث افزایش ریسک خطا و دشواری در تست نرم‌افزار نیز گردید.

اما با اعمال بازطراحی در گام سوم، وابستگی‌های مستقیم به کلاس‌های پیاده‌سازی (Concrete Classes) حذف شد و به جای آن‌ها ساختار انتزاعی (Interfaces) اضافه شد. به این ترتیب، هر کلاس اکنون تنها از طریق سطوح انتزاع با سایر اجزا ارتباط دارد؛ یعنی دقیقاً همان مفهومی که **اصل وارونگی وابستگی (DIP)** بر آن تأکید می‌کند.

همچنین با پیاده‌سازی **قانون دمیلتر یا "اصل کمترین آگاهی" (PLK)**، دیگر هیچ کلاسی وارد جزئیات داخلی کلاس‌های دیگر نمی‌شود، بلکه برای انجام وظایف خود از متدهای واسط استفاده می‌کند. این رویکرد هم انسجام درونی هر کلاس را افزایش داده و هم میزان وابستگی میان اجزا را کاهش داده است.

نتیجه مستقیم رعایت این اصول آن است که اکنون اگر تیم توسعه بخواهد قابلیت جدیدی به پروژه اضافه کند، دیگر نیازی به تغییر در کلاس‌های قبلی نیست. کافی است فقط یک کلاس جدید بسازد که Interface مربوطه را پیاده‌سازی کند. این همان چیزی است که **اصل باز-بسته (Open/Closed Principle)** وعده می‌دهد: کد باید برای *گسترش* باز باشد، اما برای *تغییر* بسته بماند.
